<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<head>
    <title> </title>
    <style>
        /* 调整 jumbotron 背景 */
        .jumbotron.bg-lightblue {
            height: auto !important;
            min-height: 300px;
        }
        #app {
            height: auto !important;
        }
        /* 增大输入框宽度及文字大小 */
        .input-num {
            width: 80px !important;
            font-size: 1.2rem;
            padding: 0.5rem 0.75rem;
        }
        .btn.btn-dark {
            font-size: 1.2rem;
            padding: 0.5rem 1rem;
        }
        .params-header {
            font-size: 2rem !important;
            font-weight: 600 !important;
            white-space: nowrap !important;
            text-align: center !important;
        }
    </style>
</head>
<div th:include="include/fore/header::html"></div>
<body>

<!--------------------------------------NAVBAR--------------------------------------->
<nav class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand" onclick="pageIndex()"><strong> Superlattice DataBase </strong></a>
        <div class="navbar-collapse collapse" id="navbarColor02" style="">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
                <li class="nav-item">
                    <a class="nav-link" onclick="pageGen()"> Generate Structure <span
                            class="sr-only">(current)</span> </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" onclick="pageApi()"> REST API Docs </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" onclick="pageSquare()"> Data Square </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- End Navbar -->


<!--------------------------------------HEADER--------------------------------------->
<div id="app" class="container">
    <div class="jumbotron jumbotron-fluid mb-3 pt-0 pb-4 bg-lightblue position-relative" style="text-align: center;">
        <div class="pl-4 pr-0 tofront" style="height:auto;">
            <div class="row justify-content-center">
                <div class="col-md-12 pt-6 pb-6 align-self-center" style="text-align: center;">
                    <h4 class="secondfont mb-3 font-weight-bold params-header" style="display: inline-block; white-space: nowrap; text-align: center !important;">
                        Parameters for Generate Initial Structure
                    </h4>
                    <!-- 设置 ol 为 inline-block，并加上 margin:0 auto; 使其在父容器中居中 -->
                    <ol class="list-featured" style="display: inline-block; margin: 0 auto; text-align: left;">
                        <li>
                            <span class="font-weight-normal text-dark">
                                <strong> Size: </strong>
                                <label>
                                    <input type="text" placeholder="40" class="input-num" name="sizeX" v-model="formObj.sizeX"> nm *
                                </label>
                                <label>
                                    <input type="text" placeholder="40" class="input-num" name="sizeY" v-model="formObj.sizeY"> nm *
                                </label>
                                <label>
                                    <input type="text" placeholder="28.8" class="input-num" name="sizeZ" v-model="formObj.sizeZ"> nm
                                </label>
                            </span>
                        </li>
                        <li>
                            <span class="font-weight-normal text-dark">
                                <strong> StrainX: </strong>
                                <label>
                                    <input type="text" placeholder="4.0" class="input-num"
                                           style="margin-right: 20px;" name="strainX" v-model="formObj.strainX">
                                </label>
                                <strong> StrainY: </strong>
                                <label>
                                    <input type="text" placeholder="4.0" class="input-num"
                                           style="margin-right: 20px;" name="strainY" v-model="formObj.strainY">
                                </label>
                            </span>
                        </li>
                        <li>
                            <span class="font-weight-normal text-dark">
                                <strong> NX: </strong>
                                <label>
                                    <input type="text" placeholder="4" class="input-num"
                                           style="margin-right: 20px;" name="nx" v-model="formObj.nx">
                                </label>
                                <strong> NY: </strong>
                                <label>
                                    <input type="text" placeholder="4" class="input-num"
                                           style="margin-right: 20px;" name="ny" v-model="formObj.ny">
                                </label>
                            </span>
                        </li>
                        <li>
                            <span class="font-weight-normal text-dark">
                                <strong> ElecX: </strong>
                                <label>
                                    <input type="text" placeholder="0" class="input-num"
                                           style="margin-right: 20px;" name="elecX" v-model="formObj.elecX">
                                </label>
                                <strong> ElecY: </strong>
                                <label>
                                    <input type="text" placeholder="0" class="input-num"
                                           style="margin-right: 20px;" name="elecY" v-model="formObj.elecY">
                                </label>
                                <strong> ElecZ: </strong>
                                <label>
                                    <input type="text" placeholder="0" class="input-num"
                                           style="margin-right: 20px;" name="elecZ" v-model="formObj.elecZ">
                                </label>
                            </span>
                        </li>
                    </ol>
                    <div style="margin-top: 20px; display: block;">
                        <button class="btn btn-dark" style="display: block; margin: 0 auto;" @click="genSearch">Generate!</button>
                    </div>
                </div>
            </div>
            <!-- 图片展示 -->
            <div v-if="products.length > 0" v-for="p in products" style="display: flex; justify-content: center; gap: 20px; margin:20px auto 40px;">
                <img style="width: 300px; height: auto; object-fit: cover;" :src="p.xy_Fig" alt="">
                <img style="width: 300px; height: auto; object-fit: cover;" :src="p.xz_Fig" alt="">
                <img style="width: 300px; height: auto; object-fit: cover;" :src="p.xyz_Fig" alt="">
            </div>
        </div>
    </div>
</div>
<!-- End Header -->


<!--------------------------------------FOOTER--------------------------------------->
<div class="container mt-5">
    <footer class="bg-white border-top p-3 text-muted big">
        <div class="row align-items-center justify-content-between">
            <div>
                <span class="navbar-brand mr-2"><strong>SuperDB</strong></span> Copyright &copy;
                <script>
                    document.write(new Date().getFullYear())
                </script>
                . All rights reserved.
            </div>
            <div>
                Tex: xxxx E-mail: xxx
            </div>
        </div>
    </footer>
</div>
<!-- End Footer -->

<!--------------------------------------JAVASCRIPTS--------------------------------------->
<script src="assets/js/vendor/jquery.min.js" type="text/javascript"></script>
<script src="assets/js/vendor/popper.min.js" type="text/javascript"></script>
<script src="assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/functions.js" type="text/javascript"></script>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- 官网提供的 axios 在线地址 -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    <!--    dataType,sizeX,sizeY,sizeZ,strainX,strainY,NX,NY,elecX,elecY,elecZ    -->
    $(function (){
        // var dataType = getUrlParms("dataType");
        // var sizeX = getUrlParms("sizeX");
        // var sizeY = getUrlParms("sizeY");
        // var sizeZ = getUrlParms("sizeZ");
        // var strainX= getUrlParms("strainX");
        // var strainY = getUrlParms("strainY");
        // var nx = getUrlParms("nx");
        // var ny= getUrlParms("ny");
        // var elecX = getUrlParms("elecX");
        // var elecY = getUrlParms("elecY");
        // var elecZ = getUrlParms("elecZ");
        // var data4vue = {
        //     uri: "foreSearch",
        //     products: [],
        //     id: 0
        // }

        //ViewModel
        const app = new Vue({
            el: "#app",
            data: {
                uri: "foreSearch",
                products: [],
                formObj: {
                    name: "",
                    dataType: "",
                    sizeX: "40",
                    sizeY: "40",
                    sizeZ: "28.8",
                    strainX: "4.0",
                    strainY: "4.0",
                    nx: "4",
                    ny: "4",
                    elecX: "0",
                    elecY: "0",
                    elecZ: "0",
                    xy_Fig: "",
                    xz_Fig: "",
                    xyz_Fig: "",
                    data_File: ""
                },
            },
            mounted: function () { //mounted　表示这个 Vue 对象加载成功了
                // this.genSearch();
            },

            methods: {
                genSearch: function () {
                    const url = this.uri + "?sizeX=" + this.formObj.sizeX + "&sizeY=" + this.formObj.sizeY
                        + "&sizeZ=" + this.formObj.sizeZ + "&strainX=" + this.formObj.strainX + "&strainY=" + this.formObj.strainY + "&nx="
                        + this.formObj.nx + "&ny=" + this.formObj.ny + "&elecX=" + this.formObj.elecX + "&elecY=" + this.formObj.elecY + "&elecZ=" + this.formObj.elecZ;
                    console.log(url);
                    axios.post(url).then(function (response) {
                        console.log(response.data);
                        app.products = response.data;
                        app.$nextTick(function () {
                            linkDefaultActions();
                        })
                    });
                }
            }
        });
    })

    function pageIndex() {
        window.location.assign('home');
    }

    function pageGen() {
        window.location.assign('gen');
    }

    function pageApi() {
        window.location.assign('api');
    }

    function pageSquare() {
        window.location.assign('square');
    }
</script>
</body>
</html>